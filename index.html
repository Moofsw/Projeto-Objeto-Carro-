<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Garagem Inteligente - Unificada v3.1</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="Imagens/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="container">
        <h1>Garagem Inteligente Unificada <span>v3.1</span></h1>
        <!-- Global Status message area - controlled by JS -->
        <div id="globalStatus" role="alert"></div>


        <section id="adicionar-veiculos">
            <h2>Adicionar Novo Veículo</h2>
            <div class="adicionar-container">
                <!-- Form Carro Esportivo -->
                <div class="form-adicionar">
                    <h3>Carro Esportivo</h3>
                    <div class="form-group">
                        <label for="modeloEsportivo">Modelo:</label>
                        <input type="text" id="modeloEsportivo" placeholder="Ex: Ferrari F8 Tributo" required>
                    </div>
                    <div class="form-group">
                        <label for="corEsportivo">Cor:</label>
                        <input type="text" id="corEsportivo" placeholder="Ex: Rosso Corsa" required>
                    </div>
                    <button id="criarCarroEsportivoBtn" class="btn-primary">Adicionar Carro</button>
                </div>

                 <!-- Form Caminhão -->
                <div class="form-adicionar">
                    <h3>Caminhão</h3>
                    <div class="form-group">
                        <label for="modeloCaminhao">Modelo:</label>
                        <input type="text" id="modeloCaminhao" placeholder="Ex: Scania R450" required>
                    </div>
                    <div class="form-group">
                        <label for="corCaminhao">Cor:</label>
                        <input type="text" id="corCaminhao" placeholder="Ex: Branco" required>
                    </div>
                    <div class="form-group">
                        <label for="capacidadeCaminhao">Capacidade de Carga (kg):</label>
                        <input type="number" id="capacidadeCaminhao" placeholder="Ex: 29000" min="0" value="10000" required>
                         <small>Peso máximo que o caminhão pode carregar.</small>
                    </div>
                    <button id="criarCaminhaoBtn" class="btn-primary">Adicionar Caminhão</button>
                </div>
            </div>
        </section>

        <hr>

        <section id="garagem-display">
            <h2>Veículos na Garagem</h2>
             <!-- Container for Car list - Content generated by JS -->
            <div id="listaCarros">
                <h3>Carros Esportivos</h3>
                <!-- Content added by renderizarGaragem -->
            </div>
            <hr class="section-divider"> <!-- Added class for potential specific styling -->
             <!-- Container for Truck list - Content generated by JS -->
            <div id="listaCaminhoes">
                 <h3>Caminhões</h3>
                 <!-- Content added by renderizarGaragem -->
            </div>
        </section>

        <hr>

        <section id="agendamentos">
             <h2>Próximos Agendamentos</h2>
             <!-- Container for the list itself, targeted by JS -->
             <ul id="agendamentosFuturosLista">
                 <li class="empty-list-placeholder">Verificando agendamentos...</li> <!-- Initial state -->
             </ul>
        </section>

        <!-- Modal for Adding/Editing Maintenance Records -->
        <div id="agendamentoModal" class="modal" aria-hidden="true"> <!-- Start hidden for AT -->
            <div class="modal-content">
                <span class="close-button" title="Fechar (Esc)">×</span>
                <h3 id="agendamentoTituloVeiculo">Histórico / Agendar Manutenção</h3>

                <!-- Optional: Area to display existing history within modal -->
                <!-- <div class="modal-history-list"><h4>Histórico Existente:</h4><ul></ul><hr></div> -->

                <form id="formAgendamento" novalidate>
                     <h4>Adicionar Novo Registro / Agendamento</h4>
                     <input type="hidden" id="agendamentoVeiculoId">
                    <div class="form-group">
                        <label for="agendamentoData">Data e Hora:</label>
                        <input type="datetime-local" id="agendamentoData" required>
                        <small>Data e hora da manutenção (realizada ou agendada).</small>
                        <!-- Error message injected here by JS -->
                    </div>
                    <div class="form-group">
                        <label for="agendamentoTipo">Tipo de Serviço:</label>
                        <input type="text" id="agendamentoTipo" placeholder="Ex: Troca de óleo, Revisão completa" required>
                         <!-- Error message injected here by JS -->
                    </div>
                     <div class="form-group">
                        <label for="agendamentoCusto">Custo (R$):</label>
                        <input type="number" id="agendamentoCusto" placeholder="0.00" step="0.01" min="0" required>
                         <small>Custo do serviço (use 0 se não aplicável).</small>
                          <!-- Error message injected here by JS -->
                    </div>
                    <div class="form-group">
                        <label for="agendamentoDescricao">Descrição / Observações:</label>
                        <textarea id="agendamentoDescricao" rows="3" placeholder="Detalhes adicionais (peças, km, etc.)"></textarea>
                         <!-- Error message injected here by JS -->
                    </div>
                    <div class="button-group">
                         <button type="button" class="btn-secondary">Cancelar</button>
                        <button type="submit" class="btn-primary">Salvar Registro</button>
                    </div>
                </form>
            </div>
        </div>

         <hr>

         <section id="controles-gerais">
             <h2>Controles Gerais</h2>
             <button id="limparStorageBtn" class="btn-danger">Limpar Toda a Garagem (LocalStorage)</button>
             <small class="danger-warning">Atenção: Ação irreversível, removerá TODOS os veículos e históricos salvos no seu navegador.</small>
         </section>

        <!-- Áudios Preloaded -->
        <audio id="somAcelerar" src="sons/acelerar_carro.mp3" preload="auto"></audio>
        <audio id="somFrear" src="sons/frear.mp3" preload="auto"></audio>
        <audio id="somLigar" src="sons/ligar_motor.mp3" preload="auto"></audio>
        <audio id="somDesligar" src="sons/desligar_motor.mp3" preload="auto"></audio>
    </div>

    <!-- Load JS files at the end -->
    <script src="manutencao.js"></script>
    <script src="script.js"></script>
</body>
</html>