<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Garagem Inteligente - v3.1 Refatorado</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="Imagens/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="container">
        <h1>Garagem Inteligente Unificada <span>v3.1 Refatorado</span></h1>
        <div id="globalStatus" role="alert"></div>

        <section id="adicionar-veiculos">
            <h2>Adicionar Novo Veículo</h2>
            <div class="adicionar-container">
                <div class="form-adicionar">
                    <h3>Carro Esportivo</h3>
                    <div class="form-group">
                        <label for="modeloEsportivo">Modelo:</label>
                        <input type="text" id="modeloEsportivo" placeholder="Ex: Ferrari F8 Tributo" required>
                    </div>
                    <div class="form-group">
                        <label for="corEsportivo">Cor:</label>
                        <input type="text" id="corEsportivo" placeholder="Ex: Rosso Corsa" required>
                    </div>
                    <button id="criarCarroEsportivoBtn" class="btn-primary">Adicionar Carro</button>
                </div>
                <div class="form-adicionar">
                    <h3>Caminhão</h3>
                    <div class="form-group">
                        <label for="modeloCaminhao">Modelo:</label>
                        <input type="text" id="modeloCaminhao" placeholder="Ex: Scania R450" required>
                    </div>
                    <div class="form-group">
                        <label for="corCaminhao">Cor:</label>
                        <input type="text" id="corCaminhao" placeholder="Ex: Branco" required>
                    </div>
                    <div class="form-group">
                        <label for="capacidadeCaminhao">Capacidade de Carga (kg):</label>
                        <input type="number" id="capacidadeCaminhao" placeholder="Ex: 29000" min="0" value="10000" required>
                         <small>Peso máximo que o caminhão pode carregar.</small>
                    </div>
                    <button id="criarCaminhaoBtn" class="btn-primary">Adicionar Caminhão</button>
                </div>
            </div>
        </section>

        <hr>

        <section id="garagem-display">
            <h2>Veículos na Garagem</h2>
            <div id="listaCarros">
                <h3>Carros Esportivos</h3>
                 <div class="empty-list-placeholder">Nenhum carro esportivo na garagem.</div>
            </div>
            <hr class="section-divider">
            <div id="listaCaminhoes">
                 <h3>Caminhões</h3>
                 <div class="empty-list-placeholder">Nenhum caminhão na garagem.</div>
            </div>
        </section>

        <hr>

        <section id="agendamentos">
             <h2>Próximos Agendamentos</h2>
             <ul id="agendamentosFuturosLista">
                 <li class="empty-list-placeholder">Verificando agendamentos...</li>
             </ul>
        </section>

        <div id="agendamentoModal" class="modal" aria-hidden="true">
            <div class="modal-content">
                <span class="close-button" title="Fechar (Esc)" aria-label="Fechar Janela Modal">×</span>
                <h3 id="agendamentoTituloVeiculo">Histórico / Agendar Manutenção</h3>
                <form id="formAgendamento" novalidate>
                     <h4>Adicionar Novo Registro / Agendamento</h4>
                     <input type="hidden" id="agendamentoVeiculoId">
                    <div class="form-group">
                        <label for="agendamentoData">Data e Hora:</label>
                        <input type="datetime-local" id="agendamentoData" required aria-describedby="dataHelp">
                        <small id="dataHelp">Data e hora da manutenção (realizada ou agendada).</small>
                    </div>
                    <div class="form-group">
                        <label for="agendamentoTipo">Tipo de Serviço:</label>
                        <input type="text" id="agendamentoTipo" placeholder="Ex: Troca de óleo, Revisão completa" required>
                    </div>
                     <div class="form-group">
                        <label for="agendamentoCusto">Custo (R$):</label>
                        <input type="number" id="agendamentoCusto" placeholder="0.00" step="0.01" min="0" required aria-describedby="custoHelp">
                         <small id="custoHelp">Custo do serviço (use 0 se não aplicável).</small>
                    </div>
                    <div class="form-group">
                        <label for="agendamentoDescricao">Descrição / Observações:</label>
                        <textarea id="agendamentoDescricao" rows="3" placeholder="Detalhes adicionais (peças, km, etc.)" aria-describedby="descHelp"></textarea>
                         <small id="descHelp">Opcional: Informe detalhes extras sobre o serviço.</small>
                    </div>
                    <div class="button-group">
                         <button type="button" class="btn-secondary">Cancelar</button>
                        <button type="submit" class="btn-primary">Salvar Registro</button>
                    </div>
                </form>
            </div>
        </div>
        
        <hr>
        
        <!-- SEÇÃO PARA PREVISÃO DO TEMPO SIMPLES (B2.P1.A2) -->
        <!-- Esta seção pode ou não existir dependendo da evolução anterior do projeto. -->
        <!-- Se existir, o script.js já tenta obter os IDs: destino-viagem, verificar-clima-btn, previsao-tempo-resultado -->
        <section id="planejar-viagem-simples">
            <h2>Planejar Viagem com Previsão Atual</h2>
            <div class="planner-container">
                <div class="form-group">
                    <label for="destino-viagem">Cidade de Destino (Previsão Atual):</label>
                    <input type="text" id="destino-viagem" placeholder="Digite a cidade para ver o tempo AGORA">
                </div>
                <button id="verificar-clima-btn">Verificar Clima Atual</button>
                <div id="previsao-tempo-resultado">
                    <!-- A previsão do tempo ATUAL será exibida aqui -->
                    <p>Digite uma cidade e clique em "Verificar Clima Atual".</p>
                </div>
            </div>
        </section>
        <!-- FIM DA SEÇÃO DE PREVISÃO SIMPLES -->

        <hr>

        <!-- SEÇÃO PARA PREVISÃO DO TEMPO DETALHADA (B2.P1.A3) -->
        <section id="planejar-viagem-detalhada">
            <h2>Planejar Viagem com Previsão Detalhada</h2>
            <div class="planner-container">
                <div class="form-group">
                    <label for="destino-viagem-detalhada">Cidade de Destino (Previsão 5 Dias):</label>
                    <input type="text" id="destino-viagem-detalhada" placeholder="Digite a cidade para ver a previsão de 5 dias">
                </div>
                <button id="verificar-clima-detalhado-btn" class="btn-primary">Ver Previsão Detalhada</button>
                <div id="previsao-tempo-detalhada-resultado" class="weather-results-detailed">
                    <!-- A previsão do tempo detalhada será exibida aqui pelo JavaScript -->
                </div>
            </div>
        </section>
        <!-- FIM DA SEÇÃO DE PREVISÃO DETALHADA -->

         <hr>

         <section id="controles-gerais">
             <h2>Controles Gerais</h2>
             <button id="limparStorageBtn" class="btn-danger">Limpar Toda a Garagem (LocalStorage)</button>
             <small class="danger-warning">Atenção: Ação irreversível, removerá TODOS os veículos e históricos salvos no seu navegador.</small>
         </section>

        <audio id="somAcelerar" src="sons/acelerar_carro.mp3" preload="auto"></audio>
        <audio id="somFrear" src="sons/frear.mp3" preload="auto"></audio>
        <audio id="somLigar" src="sons/ligar_motor.mp3" preload="auto"></audio>
        <audio id="somDesligar" src="sons/desligar_motor.mp3" preload="auto"></audio>
    </div>

    <script src="manutencao.js" defer></script>
    <script src="garagem.js" defer></script>
    <script src="script.js" defer></script>
</body>
</html>